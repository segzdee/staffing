@layer base {
  :root {
    /* ... existing content ... */
    --ring: 217 91% 60%; /* Ensure this is high contrast */
    /* ... */
  }
}

/* ============================================
   BUTTONS - shadcn style
   ============================================ */

/* Primary Button */
.btn-primary {
  @apply inline-flex items-center justify-center rounded-md text-sm font-medium
         ring-offset-background transition-colors
         focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2
         disabled:pointer-events-none disabled:opacity-50
         bg-primary text-primary-foreground hover:bg-primary/90
         h-10 px-4 py-2;
}

/* Secondary Button (Outline) */
.btn-secondary {
  @apply inline-flex items-center justify-center rounded-md text-sm font-medium
         ring-offset-background transition-colors
         focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2
         disabled:pointer-events-none disabled:opacity-50
         border border-input bg-background hover:bg-accent hover:text-accent-foreground
         h-10 px-4 py-2;
}

/* Ghost Button */
.btn-ghost {
  @apply inline-flex items-center justify-center rounded-md text-sm font-medium
         ring-offset-background transition-colors
         focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2
         disabled:pointer-events-none disabled:opacity-50
         hover:bg-accent hover:text-accent-foreground
         h-10 px-4 py-2;
}

/* Destructive Button */
.btn-destructive {
  @apply inline-flex items-center justify-center rounded-md text-sm font-medium
         ring-offset-background transition-colors
         focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2
         disabled:pointer-events-none disabled:opacity-50
         bg-destructive text-destructive-foreground hover:bg-destructive/90
         h-10 px-4 py-2;
}

/* Link Button */
.btn-link {
  @apply inline-flex items-center justify-center text-sm font-medium
         text-primary underline-offset-4 hover:underline
         h-10 px-4 py-2;
}

/* Success Button */
.btn-success {
  @apply inline-flex items-center justify-center rounded-md text-sm font-medium
         ring-offset-background transition-colors
         focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2
         disabled:pointer-events-none disabled:opacity-50
         bg-success text-white hover:bg-success/90
         h-10 px-4 py-2;
}

/* Button Sizes */
.btn-sm {
  @apply h-9 rounded-md px-3;
}

.btn-lg {
  @apply h-11 rounded-md px-8;
}

.btn-icon {
  @apply h-10 w-10 p-0;
}

/* ============================================
   BOOTSTRAP COMPATIBILITY - Legacy button classes
   ============================================ */

/* Base .btn class for Bootstrap compatibility */
.btn {
  @apply inline-flex items-center justify-center rounded-md text-sm font-medium
         ring-offset-background transition-colors
         focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2
         disabled:pointer-events-none disabled:opacity-50
         h-10 px-4 py-2;
}

/* Bootstrap btn-outline-* variants */
.btn-outline-primary {
  @apply border border-primary bg-transparent text-primary hover:bg-primary hover:text-primary-foreground;
}

.btn-outline-secondary {
  @apply border border-input bg-transparent text-foreground hover:bg-accent hover:text-accent-foreground;
}

.btn-outline-danger, .btn-outline-destructive {
  @apply border border-destructive bg-transparent text-destructive hover:bg-destructive hover:text-destructive-foreground;
}

.btn-outline-success {
  @apply border border-success bg-transparent text-success hover:bg-success hover:text-white;
}

.btn-outline-warning {
  @apply border border-warning bg-transparent text-warning hover:bg-warning hover:text-white;
}

.btn-outline-info {
  @apply border border-info bg-transparent text-info hover:bg-info hover:text-white;
}

/* Bootstrap btn-danger alias */
.btn-danger {
  @apply bg-destructive text-destructive-foreground hover:bg-destructive/90;
}

/* Bootstrap btn-warning */
.btn-warning {
  @apply bg-warning text-white hover:bg-warning/90;
}

/* Bootstrap btn-info */
.btn-info {
  @apply bg-info text-white hover:bg-info/90;
}

/* Rounded pill variant */
.rounded-pill {
  @apply rounded-full;
}

/* Width utilities for Bootstrap compatibility */
.w-100 {
  @apply w-full;
}

/* Display utilities for Bootstrap compatibility */
.d-inline {
  @apply inline;
}

.d-inline-block {
  @apply inline-block;
}

.d-flex {
  @apply flex;
}

.d-none, .display-none {
  @apply hidden;
}

/* Bootstrap Grid Compatibility */
.container {
  @apply mx-auto px-4 max-w-7xl;
}

.row {
  @apply flex flex-wrap -mx-3;
}

.col-md-3 {
  @apply w-full md:w-1/4 px-3;
}

.col-md-4 {
  @apply w-full md:w-1/3 px-3;
}

.col-md-6 {
  @apply w-full md:w-1/2 px-3;
}

.col-md-12 {
  @apply w-full px-3;
}

/* Bootstrap List Utilities */
.list-unstyled {
  @apply list-none p-0 m-0;
}

.list-inline {
  @apply list-none p-0 flex flex-wrap gap-2;
}

.list-inline-item {
  @apply inline-block;
}

/* Bootstrap Text Utilities */
.text-uppercase {
  text-transform: uppercase;
}

/* Note: .text-muted uses design-system's muted-foreground color */
.text-muted {
  color: hsl(var(--muted-foreground));
}

/* Bootstrap Padding Utilities */
.py-3 { padding-top: 0.75rem; padding-bottom: 0.75rem; }
.py-5 { padding-top: 3rem; padding-bottom: 3rem; }
.px-4 { padding-left: 1rem; padding-right: 1rem; }

/* Bootstrap text decoration */
.text-decoration-none {
  text-decoration: none;
}

/* Bootstrap active states for dropdowns */
.dropdown-item.active,
.dropdown-lang.active {
  @apply bg-primary text-primary-foreground;
}

/* Legacy Footer Styles */
.footer_background_color {
  @apply bg-muted/30;
}

.footer_text_color {
  @apply text-muted-foreground;
}

.link-footer {
  @apply text-muted-foreground hover:text-foreground transition-colors text-sm;
}

.link-footer.footer-tiny {
  @apply text-xs;
}

.ico-social {
  @apply text-muted-foreground hover:text-foreground transition-colors;
}

.border-top {
  @apply border-t border-border;
}

.copyright {
  @apply text-sm text-muted-foreground;
}

/* Bootstrap Dropdown Compatibility */
.dropdown-toggle {
  @apply cursor-pointer;
}

.dropdown-toggle::after {
  content: "";
  display: inline-block;
  margin-left: 0.255em;
  vertical-align: 0.255em;
  border-top: 0.3em solid;
  border-right: 0.3em solid transparent;
  border-bottom: 0;
  border-left: 0.3em solid transparent;
}

.dropup .dropdown-toggle::after {
  border-top: 0;
  border-bottom: 0.3em solid;
}

.btn-group {
  @apply relative inline-flex;
}

/* Legacy card styles (Bootstrap compatibility) */
.card.border-0 {
  border-width: 0;
}

.card.bg-transparent {
  background-color: transparent;
  box-shadow: none;
}

/* Note: .card-body is defined in the CARDS section below */

/* ============================================
   CARDS - shadcn style
   ============================================ */

.card {
  @apply rounded-lg border bg-card text-card-foreground shadow-sm;
}

.card-header {
  @apply flex flex-col space-y-1.5 p-6;
}

.card-title {
  @apply text-2xl font-semibold leading-none tracking-tight;
}

.card-description {
  @apply text-sm text-muted-foreground;
}

.card-content {
  @apply p-6 pt-0;
}

.card-footer {
  @apply flex items-center p-6 pt-0;
}

/* ============================================
   INPUTS - shadcn style
   ============================================ */

.input {
  @apply flex h-10 w-full rounded-md border border-input bg-background px-3 py-2
         text-sm ring-offset-background
         file:border-0 file:bg-transparent file:text-sm file:font-medium
         placeholder:text-muted-foreground
         focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2
         disabled:cursor-not-allowed disabled:opacity-50;
}

.textarea {
  @apply flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2
         text-sm ring-offset-background
         placeholder:text-muted-foreground
         focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2
         disabled:cursor-not-allowed disabled:opacity-50;
}

.select {
  @apply flex h-10 w-full items-center justify-between rounded-md border border-input
         bg-background px-3 py-2 text-sm ring-offset-background
         placeholder:text-muted-foreground
         focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2
         disabled:cursor-not-allowed disabled:opacity-50;
}

/* Input with Icon */
.input-with-icon {
  @apply relative;
}

.input-with-icon .input {
  @apply pl-10;
}

.input-with-icon .input-icon {
  @apply absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground;
}

/* ============================================
   BADGES - shadcn style
   ============================================ */

.badge {
  @apply inline-flex items-center rounded-full border px-2.5 py-0.5
         text-xs font-semibold transition-colors
         focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2;
}

.badge-default {
  @apply border-transparent bg-primary text-primary-foreground hover:bg-primary/80;
}

.badge-secondary {
  @apply border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80;
}

.badge-destructive {
  @apply border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80;
}

.badge-outline {
  @apply text-foreground;
}

.badge-success {
  @apply border-transparent bg-success text-white;
}

.badge-warning {
  @apply border-transparent bg-warning text-white;
}

.badge-info {
  @apply border-transparent bg-info text-white;
}

/* ============================================
   ALERTS - shadcn style
   ============================================ */

.alert {
  @apply relative w-full rounded-lg border p-4;
}

.alert-default {
  @apply bg-background text-foreground;
}

.alert-destructive {
  @apply border-destructive/50 text-destructive dark:border-destructive;
}

.alert-success {
  @apply border-success/50 bg-success/10 text-success;
}

.alert-warning {
  @apply border-warning/50 bg-warning/10 text-warning;
}

.alert-info {
  @apply border-info/50 bg-info/10 text-info;
}

.alert-title {
  @apply mb-1 font-medium leading-none tracking-tight;
}

.alert-description {
  @apply text-sm opacity-90;
}

/* ============================================
   LABELS
   ============================================ */

.label {
  @apply text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70;
}

/* ============================================
   SEPARATOR
   ============================================ */

.separator {
  @apply shrink-0 bg-border h-[1px] w-full;
}

.separator-vertical {
  @apply shrink-0 bg-border w-[1px] h-full;
}

/* ============================================
   NAVIGATION - shadcn style
   ============================================ */

.nav-link {
  @apply text-sm font-medium transition-colors hover:text-foreground
         text-muted-foreground;
}

.nav-link.active {
  @apply text-foreground;
}

/* Sidebar Navigation */
.sidebar-link {
  @apply flex items-center gap-3 rounded-md px-3 py-2 text-sm font-medium
         text-muted-foreground transition-colors
         hover:bg-accent hover:text-accent-foreground;
}

.sidebar-link.active {
  @apply bg-accent text-accent-foreground;
}

.sidebar-link svg {
  @apply h-4 w-4;
}

/* ============================================
   AVATAR
   ============================================ */

.avatar {
  @apply relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full;
}

.avatar img {
  @apply aspect-square h-full w-full object-cover;
}

.avatar-sm {
  @apply h-8 w-8;
}

.avatar-lg {
  @apply h-12 w-12;
}

.avatar-xl {
  @apply h-16 w-16;
}

.avatar-fallback {
  @apply flex h-full w-full items-center justify-center rounded-full bg-muted;
}

/* ============================================
   DROPDOWN
   ============================================ */

.dropdown-menu {
  @apply z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1
         text-popover-foreground shadow-md;
}

.dropdown-item {
  @apply relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5
         text-sm outline-none transition-colors
         hover:bg-accent hover:text-accent-foreground
         focus:bg-accent focus:text-accent-foreground;
}

.dropdown-separator {
  @apply -mx-1 my-1 h-px bg-muted;
}

/* ============================================
   MODAL / DIALOG
   ============================================ */

.modal-overlay {
  @apply fixed inset-0 z-50 bg-black/80;
}

.modal {
  @apply fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%]
         gap-4 border bg-background p-6 shadow-lg rounded-lg;
}

.modal-header {
  @apply flex flex-col space-y-1.5 text-center sm:text-left;
}

.modal-title {
  @apply text-lg font-semibold leading-none tracking-tight;
}

.modal-description {
  @apply text-sm text-muted-foreground;
}

.modal-footer {
  @apply flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2;
}

.modal-close {
  @apply absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity
         hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2;
}

/* ============================================
   MOBILE-OPTIMIZED MODAL STYLES
   ============================================ */

/* Mobile-first modal optimizations for Bootstrap modals */
@media (max-width: 575.98px) {
  .modal-dialog {
    margin: 0;
    max-width: 100%;
    min-height: 100vh;
    min-height: 100dvh;
  }

  .modal-dialog .modal-content {
    min-height: 100vh;
    min-height: 100dvh;
    border-radius: 0 !important;
  }

  .modal-dialog-centered .modal-content {
    min-height: auto;
  }

  .modal-dialog-scrollable .modal-body {
    max-height: calc(100vh - 140px);
    max-height: calc(100dvh - 140px);
  }

  /* Safe area insets for notched devices */
  .modal-header {
    padding-top: max(0.75rem, env(safe-area-inset-top));
  }

  .modal-footer {
    padding-bottom: max(0.75rem, env(safe-area-inset-bottom));
  }
}

/* Touch-friendly targets for modals */
.modal .btn,
.modal button[type="button"],
.modal button[type="submit"],
.modal .form-control,
.modal .form-select,
.modal select.form-control,
.modal input[type="text"],
.modal input[type="email"],
.modal input[type="password"],
.modal input[type="number"],
.modal input[type="search"],
.modal input[type="tel"],
.modal input[type="url"],
.modal input[type="date"],
.modal input[type="time"],
.modal textarea {
  min-height: 44px;
}

@media (min-width: 576px) {
  .modal .btn,
  .modal button[type="button"],
  .modal button[type="submit"],
  .modal .form-control,
  .modal .form-select,
  .modal select.form-control,
  .modal input[type="text"],
  .modal input[type="email"],
  .modal input[type="password"],
  .modal input[type="number"],
  .modal input[type="search"],
  .modal input[type="tel"],
  .modal input[type="url"],
  .modal input[type="date"],
  .modal input[type="time"],
  .modal textarea {
    min-height: 40px;
  }
}

/* Close button touch target */
.modal .close {
  min-height: 44px;
  min-width: 44px;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 0;
  margin: -0.5rem -0.5rem -0.5rem auto;
  border-radius: 0.5rem;
  transition: background-color 0.15s ease-in-out;
}

.modal .close:hover,
.modal .close:focus {
  background-color: rgba(0, 0, 0, 0.05);
}

@media (min-width: 576px) {
  .modal .close {
    min-height: 36px;
    min-width: 36px;
  }
}

/* Ensure modal backdrop covers notch area */
.modal-backdrop {
  position: fixed;
  inset: 0;
}

/* Better scrolling on mobile */
.modal-body {
  -webkit-overflow-scrolling: touch;
  overscroll-behavior: contain;
}

/* Prevent body scroll when modal is open */
body.modal-open {
  overflow: hidden;
  position: fixed;
  width: 100%;
}

/* Touch manipulation for better tap response */
.modal .touch-manipulation {
  touch-action: manipulation;
  -webkit-tap-highlight-color: transparent;
}

/* Active states for touch devices */
@media (hover: none) and (pointer: coarse) {
  .modal .btn:active,
  .modal button:active {
    opacity: 0.8;
    transform: scale(0.98);
  }
}

/* Stacked footer buttons on mobile */
.modal-footer.flex-col-reverse {
  flex-direction: column-reverse;
}

@media (min-width: 576px) {
  .modal-footer.flex-col-reverse {
    flex-direction: row;
  }
}

/* Full-width buttons on mobile */
.modal-footer .btn {
  width: 100%;
}

@media (min-width: 576px) {
  .modal-footer .btn {
    width: auto;
  }
}

/* ============================================
   TABLE
   ============================================ */

.table-container {
  @apply w-full overflow-auto;
}

.table {
  @apply w-full caption-bottom text-sm;
}

.table th {
  @apply h-12 px-4 text-left align-middle font-medium text-muted-foreground;
}

.table td {
  @apply p-4 align-middle;
}

.table tr {
  @apply border-b transition-colors hover:bg-muted/50;
}

.table thead tr {
  @apply border-b;
}

/* ============================================
   TABS
   ============================================ */

.tabs-list {
  @apply inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground;
}

.tabs-trigger {
  @apply inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5
         text-sm font-medium ring-offset-background transition-all
         focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2
         disabled:pointer-events-none disabled:opacity-50;
}

.tabs-trigger.active {
  @apply bg-background text-foreground shadow-sm;
}

/* ============================================
   PROGRESS
   ============================================ */

.progress {
  @apply relative h-4 w-full overflow-hidden rounded-full bg-secondary;
}

.progress-bar {
  @apply h-full w-full flex-1 bg-primary transition-all;
}

/* ============================================
   TOOLTIP
   ============================================ */

.tooltip {
  @apply z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5
         text-sm text-popover-foreground shadow-md;
}

/* ============================================
   STAT CARD - shadcn style
   ============================================ */

.stat-card {
  @apply rounded-lg border bg-card text-card-foreground shadow-sm p-6;
}

.stat-card .stat-icon {
  @apply h-10 w-10 rounded-md bg-muted flex items-center justify-center mb-4;
}

.stat-card .stat-icon svg {
  @apply h-5 w-5 text-muted-foreground;
}

.stat-card .stat-value {
  @apply text-3xl font-bold;
}

.stat-card .stat-label {
  @apply text-sm font-medium text-muted-foreground mt-1;
}

.stat-card .stat-change {
  @apply text-sm mt-2;
}

.stat-card .stat-change.positive {
  @apply text-success;
}

.stat-card .stat-change.negative {
  @apply text-destructive;
}

/* ============================================
   EMPTY STATE
   ============================================ */

.empty-state {
  @apply flex flex-col items-center justify-center py-12 text-center;
}

.empty-state-icon {
  @apply h-12 w-12 text-muted-foreground mb-4;
}

.empty-state-title {
  @apply text-lg font-semibold;
}

.empty-state-description {
  @apply text-sm text-muted-foreground max-w-sm mt-2;
}

/* ============================================
   FORM GROUP
   ============================================ */

.form-group {
  @apply space-y-2;
}

.form-group label {
  @apply text-sm font-medium leading-none;
}

.form-group .form-hint {
  @apply text-sm text-muted-foreground;
}

.form-group .form-error {
  @apply text-sm text-destructive;
}

/* ============================================
   CHECKBOX / RADIO - shadcn style
   ============================================ */

.checkbox {
  @apply h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background
         focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2
         disabled:cursor-not-allowed disabled:opacity-50;
}

.checkbox:checked {
  @apply bg-primary text-primary-foreground;
}

/* ============================================
   UTILITIES
   ============================================ */

/* Transition utilities */
.transition-base {
  @apply transition-colors duration-200;
}

.transition-transform {
  transition-property: transform;
  transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
  transition-duration: 200ms;
}

/* Logo gradient utility */
@layer components {
  .logo-gradient {
    background: linear-gradient(135deg, var(--logo-gradient-start) 0%, var(--logo-gradient-mid) 50%, var(--logo-gradient-end) 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    font-weight: 700;
    letter-spacing: 0.05em;
  }
}

/* Hide scrollbar but keep functionality */
.scrollbar-hide {
  -ms-overflow-style: none;
  scrollbar-width: none;
}

.scrollbar-hide::-webkit-scrollbar {
  display: none;
}

/* Truncate text */
.truncate-2 {
  display: -webkit-box;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
  overflow: hidden;
}

.truncate-3 {
  display: -webkit-box;
  -webkit-line-clamp: 3;
  -webkit-box-orient: vertical;
  overflow: hidden;
}
